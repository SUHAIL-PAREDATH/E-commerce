<!DOCTYPE html>
<html lang="en">
<head>
	<title><%=locals.documentTitle%></title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
<%- include('../layouts/header') -%>

	<!-- Shoping Cart -->
	<div class="container mx-auto">
		<div class=" text-center py-4">
		  <span class="shadow-heading">Your Wishlist</span>
		</div>
		<div class="row justify-content-center m-3" id="wishlist">
		  <div class="col-lg-8">
			<% if(userWishlist!= null && userWishlist.products.length !=0){%> <%
			userWishlist.products.forEach((product) => {%>
			  
			<div class="row rounded my-2 p-3" style="border: 1px solid #312b2b;background: linear-gradient(316deg, #ffffff 0%, #ffffff 74%) !important;">
			  <div class="prod-img text-center col-lg-5">
				<img
				  src="/public/img/products/<%=product.thumbnail%>" 
				  alt=""
				  height="150px"
				/>
			  </div>
			  <div
				class="col-lg-7 prod-details d-flex flex-grow-1 flex-column justify-content-between"
			  >
				<h5>
				  <a href="/products/<%=product._id%>" style="color: rgb(255, 255, 255) !important"
					><%=product.name%></a
				  >
				</h5>
				<h6><%=product.brand.name%></h6>
				<span style="font-size: 0.85rem"> Price: <%=product.price%></span>
				<div class="d-flex justify-content-end mt-2">
				  <button
					onclick="addToCartFromWishlist('<%=product._id%>')"
					class="btn btn-sm  mx-2 button-div"
					style="background-color: #f4f4f4 !important"
				  >
					<span style="letter-spacing: 1px; font-size: 0.75rem;"
					  >Add to cart</span
					>
				  </button>
				  <button
					class="btn btn-sm button-div"
					style="background-color: #d1d1d1 !important"
					onclick="removeFromWishlist('<%=product._id%>')"
				  >
					<span style="letter-spacing: 1px; font-size: 0.75rem"
					  >Remove</span
					>
				  </button>
				</div>
			  </div>
			</div>
			<%})%> <%}else{%>
			<h5 class="text-center my-4 fw-light">
			  No products on your wishlist yet.
			</h5>
			<div class="text-center my-4 fw-bold">
			  <a href="/" class="fst-italic"
				>Continue shopping <i class="fa fa-arrow-right"></i
			  ></a>
			</div>
			<%}%>
		  </div>
		</div>
	  </div>
		
	
		
	<%- include('../layouts/footer') -%>

	<!-- Back to top -->
	<div class="btn-back-to-top" id="myBtn">
		<span class="symbol-btn-back-to-top">
			<i class="zmdi zmdi-chevron-up"></i>
		</span>
	</div>

<!--===============================================================================================-->	
	<script src="/public/vendor/jquery/jquery-3.2.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<!--===============================================================================================-->
	<script src="/public/vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
	<script src="/public/vendor/bootstrap/js/popper.js"></script>
	<script src="/public/vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="/public/vendor/select2/select2.min.js"></script>
	<script>
		$(".js-select2").each(function(){
			$(this).select2({
				minimumResultsForSearch: 20,
				dropdownParent: $(this).next('.dropDownSelect2')
			});
		})
	</script>
<!--===============================================================================================-->
	<script src="/public/vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
<!--===============================================================================================-->
	<script src="/public/vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script>
		$('.js-pscroll').each(function(){
			$(this).css('position','relative');
			$(this).css('overflow','hidden');
			var ps = new PerfectScrollbar(this, {
				wheelSpeed: 1,
				scrollingThreshold: 1000,
				wheelPropagation: false,
			});

			$(window).on('resize', function(){
				ps.update();
			})
		});
	</script>
<!--===============================================================================================-->
	<script src="/public/js/main.js"></script>
	<script src="/public/js/cart.js"></script>
	<!--===============================================================================================-->
<!-- BOOTSTRAP -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

<!-- sweet alert cdn -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script src="/public/js/wishlist.js"></script>
</body>
</html>